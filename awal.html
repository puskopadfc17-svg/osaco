<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>osaco</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    /* CSS yang sudah ada */
    body {
      margin: 0;
      font-family: 'PT Serif', serif;
      background-color: #ffffff;
      padding-top: 60px;
    }

    .navbar {
      background-color: #000000;
      color: rgb(255, 255, 255);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 9px 40px;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      box-sizing: border-box;
    }

    .logo {
      font-size: 35px;
      font-weight: normal;
    }

    .navbar ul {
      list-style: none;
      display: flex;
      gap: 25px;
      margin: 0;
      padding: 0;
    }

    .navbar ul li a {
      color: rgb(255, 255, 255);
      text-decoration: none;
      font-weight: 100;
      font-size: 16px;
      padding: 10px 5px;
    }

    /* CSS untuk Ikon Keranjang dan Akun */
    .navbar ul li a img {
        height: 20px;
        vertical-align: middle;
        margin-top: -3px;
        filter: invert(100%); /* Membuat ikon putih di latar belakang hitam */
    }

    .hero {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .hero-video {
      position: absolute;
      top: 50%;
      left: 50%;
      min-width: 50%;
      min-height: 50%;
      width: auto;
      height: auto;
      object-fit: cover;
      transform: translate(-50%, -50%);
      z-index: -1;
    }
    
    .hero-image {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        object-fit: cover;
        transform: translate(-50%, -50%);
        z-index: -1;
    }

    .hero-text{
      position: relative;
      color: rgb(255, 255, 255);
      font-size: 90px;
      font-weight: normal;
      line-height: 1.5;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.7);
      font-family: 'PT Serif', serif;
      z-index: 10;
      text-align: center;
    }

    .hero-text h4 {
      margin-top: 0px;
      color: #ffffff;
      font-weight: 400 !important;
      font-size: 15px;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.7);
    }

    .product-gallery {
      padding: 40px 30px;
      background-color: #ffffff;
    }

    .gallery-heading {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 20px;
      text-align: center;
    }

    .product-grid {
      display: grid;
      gap: 20px;
      margin-bottom: 40px;
    }

    .product-grid.two-column {
      grid-template-columns: repeat(2, 1fr);
    }

    .product-grid.four-column {
      grid-template-columns: repeat(4, 1fr);
    }

    .product-card {
      position: relative;
      text-align: center;
      background-color: rgb(0, 0, 0);
      border-radius: 0px;
      overflow: hidden;
    }

    .product-card img {
      width: 100%;
      height: auto;
      display: block;
    }

    .product-info {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
    }

    .product-info h4 {
      margin: 0 0 5px;
      font-size: 16px;
      font-weight: normal;
    }

    .product-info p {
      margin: 0 0 10px;
      color: #ffffff;
      font-size: 14px;
    }

    .shop-button {
      display: inline-block;
      padding: 8px 15px;
      background-color: rgb(0, 0, 0);
      color: rgb(255, 254, 254);
      text-decoration: none;
      text-transform: uppercase;
      font-size: 12px;
      font-weight: bold;
      border-radius: 0px;
      transition: background-color 0.3s;
    }

    .shop-button:hover {
      background-color: #000000;
    }

    .story-section {
      text-align: center;
      padding: 50px 20px;
      background-color: #ffffff;
    }

    .features {
      display: flex;
      justify-content: center;
      gap: 100px;
      margin-bottom: 50px;
    }

    .feature-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .feature-item img {
      width: 150px;
      height: 150px;
      margin-bottom: 10px;
    }

    .feature-item p {
      line-height: 1.2;
    }

    .story-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .story-content {
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .footer {
      background-color: #000000;
      padding: 20px 0;
      text-align: center;
    }

    .footer-copyright {
      color: #ffffff;
    }

    @media (max-width: 768px) {
      .product-grid.two-column,
      .product-grid.four-column {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }
      .features {
        flex-direction: column;
        gap: 30px;
      }
    }

    /* Gaya untuk overlay gelap di belakang keranjang dan login */
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: none;
        z-index: 2000;
    }

    /* Gaya untuk sidebar keranjang dan login yang meluncur */
    .cart-sidebar, .login-sidebar {
        position: absolute;
        top: 0;
        right: 0;
        width: 400px;
        max-width: 90%;
        height: 100%;
        background: #fff;
        padding: 20px;
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
        display: flex;
        flex-direction: column;
    }

    /* Tampilkan sidebar saat class 'show' ditambahkan */
    .overlay.show .cart-sidebar,
    .overlay.show .login-sidebar {
        transform: translateX(0);
    }

    .overlay.show {
        display: block;
    }
    
    .sidebar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #ccc;
        padding-bottom: 10px;
        margin-bottom: 20px;
    }

    .close-btn {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
    }

    .sidebar-title {
        font-weight: bold;
        font-size: 20px;
    }
    
    /* Gaya untuk Form Login */
    .login-form .form-group {
        margin-bottom: 15px;
    }
    
    .login-form label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    
    .login-form input {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    
    .login-form button {
        width: 100%;
        padding: 10px;
        background-color: black;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
        border-radius: 4px;
    }

    /* Gaya untuk Cart */
    .cart-items-container {
      flex-grow: 1;
      overflow-y: auto;
      padding-right: 10px;
    }

    .cart-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 20px;
      gap: 15px;
    }

    .cart-item .item-details {
      display: flex;
      gap: 10px;
      flex-grow: 1;
    }

    .cart-item .item-details img {
        width: 80px;
        height: 80px;
        object-fit: cover;
    }

    .item-info {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .item-info p {
      margin: 0;
    }

    .item-name {
      font-weight: bold;
    }

    .item-quantity {
      display: flex;
      align-items: center;
      border: 1px solid #ccc;
      height: 30px;
    }

    .item-quantity button {
      background: none;
      border: none;
      width: 30px;
      height: 100%;
      cursor: pointer;
    }

    .item-quantity span {
      padding: 0 10px;
    }

    .item-total {
      font-weight: bold;
    }

    .delete-item-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #999;
    }

    .promo-code {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #ccc;
      padding-bottom: 20px;
      margin-top: auto;
    }

    .promo-code input {
      border: 1px solid #ccc;
      padding: 8px;
    }

    .promo-code button {
      background-color: black;
      color: white;
      border: none;
      padding: 8px 15px;
      cursor: pointer;
    }

    .promo-message {
      font-size: 12px;
      margin-top: 5px;
      text-align: right;
    }
    .promo-message.success {
      color: green;
    }
    .promo-message.error {
      color: red;
    }

    .cart-summary {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      padding: 20px 0;
    }

    .estimated-total {
      font-weight: bold;
      margin: 0;
    }

    .estimated-total span {
      margin-left: 10px;
    }

    .shipping-info {
      font-size: 12px;
      color: #777;
      margin: 5px 0 0;
    }

    .cart-actions {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .cart-actions a {
      text-align: center;
      padding: 12px;
      text-decoration: none;
      font-weight: bold;
      border-radius: 5px;
    }

    .checkout-btn {
      background-color: black;
      color: white;
    }

    .view-cart-btn {
      background-color: white;
      color: black;
      border: 1px solid black;
    }
  </style>
</head>
<body>

  <div class="navbar">
    <div class="logo">Osaco</div>
    <ul>
      <li><a href="awal.html">HOME</a></li>
      <li><a href="womens.html">WOMEN'S</a></li>
      <li><a href="mens.html">MEN'S</a></li>
      <li><a href="kids.html">KID'S</a></li>
      <li><a href="#" id="cart-icon"><img src="cart.png" alt="Shopping Cart"></a></li>
      <li><a href="#" id="account-icon"><img src="login-avatar.png" alt="Account"></a></li>
    </ul>
  </div>
  
  <div class="hero">
    <video class="hero-video" autoplay muted loop playsinline>
      <source src="video1.mp4" type="video/mp4">
      <source src="nama-video-kamu.webm" type="video/webm">
      Your browser does not support the video tag.
    </video>
    <div class="hero-text">
      Osaco<br>
        <h4>"The Urban Oasis"</h4>
    </div>
  </div>
  <div class="product-gallery">
    <h2 class="gallery-heading">NEW IN</h2>
    <div class="product-grid two-column">
      <div class="product-card">
        <img src="w1.webp" alt="Product 1">
        <div class="product-info">
          <a href="shop.html" class="shop-button">SHOP NOW</a>
        </div>
      </div>
      <div class="product-card">
        <img src="w3.webp" alt="Product 2">
        <div class="product-info">
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
    </div>

    <h2 class="gallery-heading">KID'S FASHION</h2>
    <div class="product-grid two-column">
      <div class="product-card">
        <img src="CIL2.jpeg" alt="Product 3">
        <div class="product-info">
          <h4></h4>
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
      <div class="product-card">
        <img src="CIL1.jpeg" alt="Product 4">
        <div class="product-info">
          <h4></h4>
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
    </div>

    <h2 class="gallery-heading">BESTSELLERS</h2>
    <div class="product-grid four-column">
      <div class="product-card">
        <img src="p1.webp" alt="Shoes 1">
        <div class="product-info">
          <h4></h4>
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
      <div class="product-card">
        <img src="p2.webp" alt="T-shirt 1">
        <div class="product-info">
          <h4></h4>
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
      <div class="product-card">
        <img src="p3.webp" alt="Jacket 1">
        <div class="product-info">
          <h4></h4>
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
      <div class="product-card">
        <img src="p4.webp" alt="Pants 1">
        <div class="product-info">
          <h4></h4>
          <a href="#" class="shop-button">SHOP NOW</a>
        </div>
      </div>
    </div>
  </div>

  <section class="story-section">
    <div class="features">
      <div class="feature-item">
        <img src="koin.jpeg" alt="Money Guarantee Icon">
        <p>100% Money<br>Guarantee</p>
      </div>
      <div class="feature-item">
        <img src="kunci.jpeg" alt="Secure Webstore Icon">
        <p>Secure<br>Webstore</p>
      </div>
      <div class="feature-item">
        <img src="mobil.jpeg" alt="COD Available Icon">
        <p>COD<br>Available</p>
      </div>
    </div>

    <h2 class="story-title">OUR STORY</h2>

    <div class="story-content">
      <p>“Esencia was established in 2000, stood at the beginning we aimed to raise awareness about local products that become stronger in Indonesia, inspired by all the elements, such as music, movies, lifestyle, and culture. We try to put them all into an aesthetic that is more emotional bandage, flicked, and the criticism circumstances of time. By lifting the concept of "slice of life", we intend for us to continue to accompany the journey of life in every era, framing, convey and interpret life in a unique way”.</p>
    </div>
  </section>
  <footer class="footer">
    <div class="footer-copyright">
      <p>© 2025 DAZZLE</p>
    </div>
  </footer>

  <div class="overlay" id="overlay">

    <div class="cart-sidebar" id="cart-sidebar">
      <div class="sidebar-header">
        <span class="sidebar-title">CART (0 item)</span>
        <button class="close-btn" id="close-cart-btn">&times;</button>
      </div>

      <div class="cart-items-container" id="cart-items-container">
        </div>

      <div class="promo-code">
        <input type="text" id="promo-input" placeholder="Enter a promo code">
        <button id="promo-apply-btn">Apply</button>
      </div>
      <p id="promo-message" class="promo-message"></p>

      <div class="cart-summary">
        <p class="estimated-total">Estimated total <span id="estimated-total-span">$0.00</span></p>
        <p class="shipping-info">Taxes and shipping are calculated at checkout.</p>
      </div>

      <div class="cart-actions">
        <a href="#" class="checkout-btn">Checkout</a>
      </div>
    </div>
    
    <div class="login-sidebar" id="login-sidebar">
        <div class="sidebar-header">
            <span class="sidebar-title">Login</span>
            <button class="close-btn" id="close-login-btn">&times;</button>
        </div>
        <div class="login-form">
            <form>
                <div class="form-group">
                    <label for="name">Nama</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit">Login</button>
            </form>
        </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const cartIcon = document.getElementById('cart-icon');
        const accountIcon = document.getElementById('account-icon');
        const overlay = document.getElementById('overlay');
        const cartSidebar = document.getElementById('cart-sidebar');
        const loginSidebar = document.getElementById('login-sidebar');
        const closeCartBtn = document.getElementById('close-cart-btn');
        const closeLoginBtn = document.getElementById('close-login-btn');
        const cartItemsContainer = document.getElementById('cart-items-container');
        const estimatedTotalSpan = document.getElementById('estimated-total-span');
        const promoInput = document.getElementById('promo-input');
        const promoApplyBtn = document.getElementById('promo-apply-btn');
        const promoMessage = document.getElementById('promo-message');

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let promoApplied = false;
        let appliedPromoCode = null;

        function updateCartSummary() {
            let total = 0;
            let totalItems = 0;

            cart.forEach(item => {
                total += parseFloat(item.price.replace('$', '')) * item.quantity;
                totalItems += item.quantity;
            });

            let finalTotal = total;

            if (promoApplied && appliedPromoCode) {
                if (appliedPromoCode === 'MERDEKA17') {
                    finalTotal = total * 0.5;
                } else if (appliedPromoCode === 'DIRGAHAYU') {
                    finalTotal = total * 0.7;
                } else if (appliedPromoCode === '80TAHUN') {
                    finalTotal = total * 0.8;
                }
            }

            estimatedTotalSpan.textContent = `$${finalTotal.toFixed(2)}`;
            document.querySelector('.sidebar-title').textContent = `CART (${totalItems} item)`;
        }

        function renderCartItems() {
            cartItemsContainer.innerHTML = '';
            cart.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('cart-item');
                itemElement.innerHTML = `
                    <div class="item-details">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="item-info">
                            <p class="item-name">${item.name}</p>
                            <p class="item-price" data-base-price="${parseFloat(item.price.replace('$', ''))}">${item.price}</p>
                            <p class="item-color">Size: ${item.size}</p>
                        </div>
                    </div>
                    <div class="item-quantity">
                        <button class="quantity-btn decrease">-</button>
                        <span>${item.quantity}</span>
                        <button class="quantity-btn increase">+</button>
                    </div>
                    <div class="item-total">$${(parseFloat(item.price.replace('$', '')) * item.quantity).toFixed(2)}</div>
                    <button class="delete-item-btn">&times;</button>
                `;
                cartItemsContainer.appendChild(itemElement);

                itemElement.querySelector('.quantity-btn.increase').addEventListener('click', () => {
                    item.quantity++;
                    localStorage.setItem('cart', JSON.stringify(cart));
                    renderCartItems();
                });

                itemElement.querySelector('.quantity-btn.decrease').addEventListener('click', () => {
                    if (item.quantity > 1) {
                        item.quantity--;
                        localStorage.setItem('cart', JSON.stringify(cart));
                        renderCartItems();
                    }
                });

                itemElement.querySelector('.delete-item-btn').addEventListener('click', () => {
                    cart = cart.filter(cartItem => cartItem !== item);
                    localStorage.setItem('cart', JSON.stringify(cart));
                    renderCartItems();
                });
            });
            updateCartSummary();
        }

        // Event listener untuk ikon keranjang
        if (cartIcon) {
          cartIcon.addEventListener('click', (e) => {
              e.preventDefault();
              loginSidebar.style.display = 'none';
              cartSidebar.style.display = 'flex';
              renderCartItems();
              overlay.classList.add('show');
          });
        }
        
        // Event listener untuk ikon akun
        if (accountIcon) {
          accountIcon.addEventListener('click', (e) => {
              e.preventDefault();
              cartSidebar.style.display = 'none';
              loginSidebar.style.display = 'flex';
              overlay.classList.add('show');
          });
        }

        // Event listener untuk tombol tutup keranjang
        closeCartBtn.addEventListener('click', () => {
            overlay.classList.remove('show');
        });
        
        // Event listener untuk tombol tutup login
        closeLoginBtn.addEventListener('click', () => {
            overlay.classList.remove('show');
        });

        // Event listener untuk promo
        promoApplyBtn.addEventListener('click', () => {
            const promoCode = promoInput.value.trim().toUpperCase();

            if (promoApplied) {
                 promoMessage.textContent = 'Promo code is already applied.';
                 promoMessage.classList.remove('success');
                 promoMessage.classList.add('error');
            } else {
                if (promoCode === 'MERDEKA17') {
                    promoApplied = true;
                    appliedPromoCode = 'MERDEKA17';
                    promoMessage.textContent = 'Promo code MERDEKA17 applied successfully!';
                    promoMessage.classList.remove('error');
                    promoMessage.classList.add('success');
                } else if (promoCode === 'DIRGAHAYU') {
                    promoApplied = true;
                    appliedPromoCode = 'DIRGAHAYU';
                    promoMessage.textContent = 'Promo code PROMO15 applied successfully!';
                    promoMessage.classList.remove('error');
                    promoMessage.classList.add('success');
                } else if (promoCode === '80TAHUN') {
                    promoApplied = true;
                    appliedPromoCode = '80TAHUN';
                    promoMessage.textContent = 'Promo code 80TAHUN applied successfully!';
                    promoMessage.classList.remove('error');
                    promoMessage.classList.add('success');
                } else {
                    promoMessage.textContent = 'Invalid promo code.';
                    promoMessage.classList.remove('success');
                    promoMessage.classList.add('error');
                }
            }
            updateCartSummary();
        });

        renderCartItems();
    });
    // ... (kode JavaScript yang sudah ada)

        // Ambil elemen form login dan pesan status
        const loginForm = document.getElementById('loginForm');
        const loginMessage = document.getElementById('loginMessage');

        // Tangani pengiriman form login
        if (loginForm) {
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault(); // Mencegah halaman reload

                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;

                try {
                    // Kirim data ke skrip PHP Anda
                    const response = await fetch('login_process.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ email, password }),
                    });

                    const result = await response.json();

                    if (response.ok && result.success) {
                        // Login berhasil
                        loginMessage.textContent = result.message;
                        loginMessage.style.color = 'green';
                        // Anda bisa alihkan pengguna ke halaman lain
                        // window.location.href = '/dashboard.html';
                    } else {
                        // Login gagal
                        loginMessage.textContent = result.message;
                        loginMessage.style.color = 'red';
                    }
                } catch (error) {
                    // Kesalahan koneksi
                    loginMessage.textContent = 'Terjadi kesalahan jaringan. Coba lagi.';
                    loginMessage.style.color = 'red';
                    console.error('Error:', error);
                }
            });
        }
  </script>
</body>
</html>